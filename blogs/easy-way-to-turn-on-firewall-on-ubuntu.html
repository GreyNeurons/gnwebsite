<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <title>Easy way to configure firewall on Ubuntu</title>
  <meta name="description" content="Article talks about how cockroach analogy is being used to describe startups, technologies etc.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="3 reasons to respect cockroaches">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://www.greyneuronsconsulting.com/blogs/easy-way-to-turn-on-firewall-on-ubuntu.html">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/bulma.css">
  <link rel="stylesheet" href="/css/main.css">

  <meta name="theme-color" content="#fafafa">
  
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 reasons to respect the cockroaches" />
  <meta name="twitter:site" content="@GreyNeurons" />

</head>

<body>

  <blog-header>
    <span slot ="bread-crumb-current-page">Firewall Configuration on Ubuntu</span>
  </blog-header>

  <div class = "section">
    <div id = "06032024" class='card'>

        <header class="card-header">
          <p class="card-header-title">
            An easy firewall configuration for Ubuntu
          </p>  
        </header>
  
        <div class="content mx-6">

          <p>To configure a firewall on an Ubuntu server to only allow HTTPS (port 443) and SSH (port 22) and block all other ports, follow these steps using UFW (Uncomplicated Firewall):</p>
          
          <h6>1. Install UFW</h6>
          <p>If not already installed, you can install UFW by running:</p>
          <pre>
          <code>sudo apt update
          sudo apt install ufw</code>
          </pre>
          
          <h6>2. Enable UFW</h6>
          <p>Before enabling UFW, ensure SSH port is allowed to avoid being locked out:</p>
          <pre>
          <code>sudo ufw allow ssh</code>
          </pre>
          <p>Or specify the port number:</p>
          <pre>
          <code>sudo ufw allow 22/tcp</code>
          </pre>
          
          <h6>3. Allow HTTPS</h6>
          <p>To allow HTTPS connections, run:</p>
          <pre>
          <code>sudo ufw allow https</code>
          </pre>
          <p>Or specify the port number:</p>
          <pre>
          <code>sudo ufw allow 443/tcp</code>
          </pre>
          
          <h6>4. Enable UFW</h6>
          <p>After configuring the rules, enable UFW:</p>
          <pre>
          <code>sudo ufw enable</code>
          </pre>
          
          <h6>5. Check UFW Status</h6>
          <p>Check the status of UFW and the applied rules:</p>
          <pre>
          <code>sudo ufw status</code>
          </pre>
          
          <h6>6. Denying All Other Traffic (Optional)</h6>
          <p>By default, UFW denies all incoming and allows all outgoing connections. If needed, set default policies:</p>
          <pre>
          <code>sudo ufw default deny incoming
          sudo ufw default allow outgoing</code>
          </pre>
          
          <h6>7. Additional Rules</h6>
          <p>To open more ports in the future, add new rules with:</p>
          <pre>
          <code>sudo ufw allow</code>
          </pre>
          
          <h6>8. Enable SSH Access from Specific IP Addresses</h6>
            <p>Before enabling UFW, make sure your IP address is allowed for SSH connections. Replace <code>YOUR_IP_ADDRESS</code> with your actual IP address. For multiple IP addresses, repeat this step for each one.</p>
            <pre>
            <code>sudo ufw allow from YOUR_IP_ADDRESS to any port 22</code>
            </pre>
            <p>Example for allowing SSH from a specific IP address:</p>
            <pre>
            <code>sudo ufw allow from 192.168.1.100 to any port 22</code>
            </pre>

          <h6>9. Verify UFW Rules</h6>
            <p>Check the status of UFW and verify your rules:</p>
            <pre>
            <code>sudo ufw status</code>
            </pre>

          <h6>10. Manage Connections</h6>
            <p>To update allowed IP addresses for SSH, delete the existing rule and add a new one with the updated IP address. To delete a rule, use:</p>
            <pre>
            <code>sudo ufw delete allow from OLD_IP_ADDRESS to any port 22</code>
            </pre>
            <p>Then, add a new rule with the new IP address as previously shown.</p>

            
          <p>Remember to replace <code>ssh</code> and <code>https</code> with specific port numbers if your services run on non-standard ports. Be cautious when modifying firewall settings to avoid locking yourself out of the server.</p>

        </div>
    
      </div> 
  </div>  
  
  <blog-footer></blog-footer>

  <script defer src="/js/blog-header.js"></script>    
  <script async src="/js/blog-footer.js"></script>

</body>

</html>
